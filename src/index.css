@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════
   Papachoa — "Minimalista Cálido" Design System v2
   Palette: Magenta #ac3c72, Amarillo #f5ce3e, Coral #ff8d6b, Azul #416ba9
   Background: Blanco roto #f7f4f3
   Typography: Lato + Caveat
   ═══════════════════════════════════════════ */

@layer base {
  :root {
    --background: 15 20% 96%;
    --foreground: 220 15% 18%;
    --card: 20 15% 98%;
    --card-foreground: 220 15% 18%;
    --popover: 20 15% 98%;
    --popover-foreground: 220 15% 18%;
    --primary: 331 48% 45%;
    --primary-foreground: 0 0% 100%;
    --secondary: 47 90% 60%;
    --secondary-foreground: 220 15% 18%;
    --muted: 20 10% 92%;
    --muted-foreground: 220 10% 46%;
    --accent: 216 44% 46%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 50% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 20 12% 86%;
    --input: 20 12% 86%;
    --ring: 331 48% 45%;
    --radius: 0.75rem;

    /* ── Brand palette ── */
    --papachoa-cream: 15 20% 96%;
    --papachoa-magenta: 331 48% 45%;
    --papachoa-yellow: 47 90% 60%;
    --papachoa-coral: 14 100% 71%;
    --papachoa-blue: 216 44% 46%;
    --papachoa-warm-brown: 20 25% 22%;

    /* Sidebar */
    --sidebar-background: 15 20% 96%;
    --sidebar-foreground: 220 15% 18%;
    --sidebar-primary: 331 48% 45%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 216 44% 46%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 20 12% 86%;
    --sidebar-ring: 331 48% 45%;
  }

  .dark {
    --background: 220 15% 10%;
    --foreground: 20 15% 90%;
    --card: 220 15% 13%;
    --card-foreground: 20 15% 90%;
    --popover: 220 15% 13%;
    --popover-foreground: 20 15% 90%;
    --primary: 331 48% 55%;
    --primary-foreground: 220 15% 10%;
    --secondary: 47 80% 50%;
    --secondary-foreground: 20 15% 90%;
    --muted: 220 12% 18%;
    --muted-foreground: 20 10% 55%;
    --accent: 216 44% 55%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 45% 42%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 12% 20%;
    --input: 220 12% 20%;
    --ring: 331 48% 55%;
    --sidebar-background: 220 15% 10%;
    --sidebar-foreground: 20 15% 90%;
    --sidebar-primary: 331 48% 55%;
    --sidebar-primary-foreground: 220 15% 10%;
    --sidebar-accent: 216 44% 55%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 220 12% 20%;
    --sidebar-ring: 331 48% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Lato', sans-serif;
    line-height: 1.7;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Lato', sans-serif;
    @apply font-bold;
    line-height: 1.2;
  }
}

@layer components {
  .font-display {
    font-family: 'Caveat', cursive;
  }

  .font-body {
    font-family: 'Lato', sans-serif;
  }

  /* ═══════════════════════════════════════════
     BUTTONS — Clean, rounded, brand-colored
     ═══════════════════════════════════════════ */
  .btn-artisan {
    @apply relative inline-flex items-center gap-2 px-8 py-3.5 rounded-full font-bold text-sm tracking-wide;
    @apply bg-primary text-primary-foreground;
    transition: all 0.3s cubic-bezier(.4,0,.2,1);
    box-shadow: 0 4px 14px hsl(331 48% 45% / 0.25);
  }
  .btn-artisan:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px hsl(331 48% 45% / 0.35);
  }
  .btn-artisan:active {
    transform: translateY(0);
    box-shadow: 0 2px 8px hsl(331 48% 45% / 0.2);
  }

  .btn-artisan-outline {
    @apply relative inline-flex items-center gap-2 px-8 py-3.5 rounded-full font-bold text-sm tracking-wide;
    @apply text-foreground border-2 border-foreground/20;
    background: transparent;
    transition: all 0.3s cubic-bezier(.4,0,.2,1);
  }
  .btn-artisan-outline:hover {
    border-color: hsl(var(--primary));
    color: hsl(var(--primary));
    box-shadow: 0 4px 14px hsl(331 48% 45% / 0.15);
  }

  /* Secondary coral CTA */
  .cta-premium-terracotta {
    @apply inline-flex items-center gap-2 px-8 py-4 rounded-full font-bold text-base;
    background-color: hsl(14 100% 71%);
    color: hsl(220 15% 18%);
    box-shadow: 0 6px 18px hsl(14 100% 71% / 0.3);
    transition: all 200ms ease;
  }
  .cta-premium-terracotta:hover {
    background-color: hsl(14 90% 65%);
    box-shadow: 0 8px 22px hsl(14 100% 71% / 0.4);
    transform: scale(1.02);
  }

  /* ═══════════════════════════════════════════
     SECTION UTILITIES
     ═══════════════════════════════════════════ */
  .section-warm {
    background: hsl(var(--papachoa-cream));
  }

  .section-magenta {
    background: hsl(331 48% 45%);
    color: white;
  }

  .section-blue {
    background: hsl(216 44% 46%);
    color: white;
  }

  .section-coral-soft {
    background: hsl(14 80% 95%);
  }

  .section-yellow-soft {
    background: hsl(47 80% 94%);
  }

  /* Legacy section classes for compatibility */
  .section-terracotta { background: hsl(14 80% 95%); }
  .section-indigo { background: hsl(216 44% 20%); color: hsl(0 0% 95%); }
  .section-indigo h1, .section-indigo h2, .section-indigo h3, .section-indigo h4,
  .section-indigo p, .section-indigo span, .section-indigo blockquote { color: hsl(0 0% 92%); }
  .section-indigo .text-muted-foreground { color: hsl(0 0% 70%); }
  .section-indigo .text-primary { color: hsl(47 90% 65%); }
  .section-marigold { background: hsl(47 70% 95%); }

  /* ═══════════════════════════════════════════
     TEXTURE — Very subtle, not overwhelming
     ═══════════════════════════════════════════ */
  .texture-linen::before { display: none; }
  .texture-woven::after { display: none; }

  /* ═══════════════════════════════════════════
     LEGACY FRAME/STITCH — Simplified
     ═══════════════════════════════════════════ */
  .frame-fabric, .frame-fabric-2 {
    border-radius: 1rem;
    overflow: hidden;
  }

  .paper-shadow {
    position: relative;
  }
  .paper-shadow::before, .paper-shadow::after { display: none; }

  .border-stitched { border: none; }

  .divider-cross-stitch, .embroidery-line, .divider-stitched {
    display: none;
  }

  /* ═══════════════════════════════════════════
     EDITORIAL PULL QUOTE
     ═══════════════════════════════════════════ */
  .pull-quote {
    font-family: 'Caveat', cursive;
    @apply text-3xl md:text-4xl text-foreground/80 leading-relaxed;
  }

  /* ═══════════════════════════════════════════
     FADE IN ON SCROLL
     ═══════════════════════════════════════════ */
  .fade-in-section {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
  }
  .fade-in-section.visible {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ═══════════════════════════════════════════
   ANIMATIONS
   ═══════════════════════════════════════════ */

/* Marquee */
@keyframes marquee {
  0% { transform: translateX(0%); }
  100% { transform: translateX(-50%); }
}
.animate-marquee {
  animation: marquee 30s linear infinite;
}

/* Float (breathing) */
@keyframes float-gentle {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}
.animate-float-gentle {
  animation: float-gentle 6s ease-in-out infinite;
}

/* Parallax micro shift */
@keyframes micro-drift {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  25% { transform: translate(3px, -2px) rotate(0.3deg); }
  50% { transform: translate(-2px, 4px) rotate(-0.2deg); }
  75% { transform: translate(4px, 2px) rotate(0.1deg); }
}
.animate-drift {
  animation: micro-drift 20s ease-in-out infinite;
}
.animate-drift-slow {
  animation: micro-drift 30s ease-in-out infinite reverse;
}

/* ═══════════════════════════════════════════
   PRODUCT CARD CAROUSEL — Directional crossfade
   ═══════════════════════════════════════════ */
@keyframes carousel-exit-forward {
  from { opacity: 1; transform: translateX(0); }
  to { opacity: 0; transform: translateX(-8px); }
}
@keyframes carousel-enter-forward {
  from { opacity: 0; transform: translateX(8px); }
  to { opacity: 1; transform: translateX(0); }
}
@keyframes carousel-exit-backward {
  from { opacity: 1; transform: translateX(0); }
  to { opacity: 0; transform: translateX(8px); }
}
@keyframes carousel-enter-backward {
  from { opacity: 0; transform: translateX(-8px); }
  to { opacity: 1; transform: translateX(0); }
}

.carousel-image {
  animation-duration: 0.25s;
  animation-timing-function: ease-out;
  animation-fill-mode: forwards;
}
.carousel-image.exit-forward { animation-name: carousel-exit-forward; }
.carousel-image.enter-forward { animation-name: carousel-enter-forward; }
.carousel-image.exit-backward { animation-name: carousel-exit-backward; }
.carousel-image.enter-backward { animation-name: carousel-enter-backward; }

/* Glass blob buttons */
.glass-blob-btn {
  transition: transform 0.2s cubic-bezier(.4,0,.2,1), box-shadow 0.3s ease;
}
.glass-blob-btn:hover { transform: scale(1.06); }
.glass-blob-btn:active { transform: scale(0.95); transition-duration: 0.12s; }

.glass-blob-shape {
  position: absolute;
  inset: -1px;
  border-radius: 50%;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  background: linear-gradient(140deg, rgba(255,255,255,0.45) 0%, rgba(255,255,255,0.20) 100%);
  border: 1px solid rgba(255,255,255,0.35);
  box-shadow: inset 0 1px 3px rgba(255,255,255,0.4), 0 4px 16px rgba(0,0,0,0.08);
}
.glass-blob-blush .glass-blob-shape {
  background: linear-gradient(140deg, hsla(331,48%,45%,0.2) 0%, rgba(255,255,255,0.15) 100%);
  border-color: hsla(331,48%,60%,0.3);
}
.glass-blob-sky .glass-blob-shape {
  background: linear-gradient(140deg, hsla(216,44%,46%,0.2) 0%, rgba(255,255,255,0.15) 100%);
  border-color: hsla(216,44%,65%,0.3);
}
.glass-blob-sage .glass-blob-shape {
  background: linear-gradient(140deg, hsla(47,90%,60%,0.2) 0%, rgba(255,255,255,0.15) 100%);
  border-color: hsla(47,80%,70%,0.3);
}
.glass-blob-btn:hover .glass-blob-shape {
  box-shadow: inset 0 1px 3px rgba(255,255,255,0.5), 0 6px 20px rgba(0,0,0,0.12);
}

/* Blob shapes */
.blob-shape { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
.blob-shape-2 { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }

/* Hero crossfade — 4 slides, 10s total */
@keyframes hero-crossfade {
  0%      { opacity: 1; }
  20%     { opacity: 1; }
  25%     { opacity: 0; }
  95%     { opacity: 0; }
  100%    { opacity: 1; }
}
.hero-slide {
  opacity: 0;
  animation: hero-crossfade 10s infinite;
}
.hero-slide-0 { animation-delay: 0s; opacity: 1; }
.hero-slide-1 { animation-delay: 2.5s; }
.hero-slide-2 { animation-delay: 5s; }
.hero-slide-3 { animation-delay: 7.5s; }

/* Hero focal points */
.hero-img-0 { object-position: 50% 25%; }
.hero-img-1 { object-position: 50% 30%; }
.hero-img-2 { object-position: 50% 30%; }
.hero-img-3 { object-position: 50% 35%; }
@media (min-width: 1024px) {
  .hero-img-0 { object-position: 52% 15%; }
  .hero-img-1 { object-position: 50% 25%; }
  .hero-img-2 { object-position: 50% 25%; }
  .hero-img-3 { object-position: 50% 30%; }
}

/* Fade in */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in {
  animation: fade-in 0.4s ease-out forwards;
}

/* Scrollbar hide */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar { display: none; }

/* Nav link underline */
.nav-textile-link {
  position: relative;
}
.nav-textile-link::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 100%;
  height: 2px;
  background: hsl(var(--primary));
  border-radius: 1px;
  transform: scaleX(0);
  transform-origin: right;
  transition: transform 0.3s ease;
}
.nav-textile-link:hover::after {
  transform: scaleX(1);
  transform-origin: left;
}

/* Hero animated letters */
@keyframes letter-float {
  0% {
    opacity: 0;
    transform: translate(var(--start-x), var(--start-y)) rotate(var(--start-rot));
  }
  60% {
    opacity: 1;
  }
  100% {
    opacity: 1;
    transform: translate(0, 0) rotate(0deg);
  }
}

.hero-letter {
  display: inline-block;
  opacity: 0;
  animation: letter-float 1.2s cubic-bezier(.22,1,.36,1) forwards;
}

/* Card hover lift */
.card-lift {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.card-lift:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 32px -8px hsl(220 15% 18% / 0.12);
}

/* Collection card tilt (legacy compat) */
.card-tilt {
  transition: transform 0.4s cubic-bezier(.22,1,.36,1), box-shadow 0.4s ease;
}
.card-tilt:hover {
  transform: scale(1.02) !important;
  box-shadow: 0 12px 32px -8px hsl(220 15% 18% / 0.15);
}

/* ═══════════════════════════════════════════
   FALLING BLOB MENU
   ═══════════════════════════════════════════ */
.blob-menu-item {
  padding: 1.5rem 4rem;
  min-width: 280px;
  text-align: center;
  font-size: 2.8rem;
  cursor: pointer;
  transition: transform 0.25s ease, box-shadow 0.3s ease;
}
@media (min-width: 768px) {
  .blob-menu-item { padding: 2rem 5.5rem; min-width: 340px; font-size: 3.8rem; }
}
@media (min-width: 1024px) {
  .blob-menu-nav {
    max-height: 68vh;
    gap: 28px !important;
    padding-top: clamp(40px, 10vh, 100px) !important;
    padding-bottom: clamp(40px, 10vh, 100px) !important;
    margin: auto 0;
  }
  .blob-menu-item { padding: 1.6rem 5.5rem; min-width: 340px; font-size: 3.85rem; }
}
.blob-menu-item:hover {
  transform: scale(1.02) !important;
  box-shadow: 0 12px 48px -12px hsl(220 15% 18% / 0.2), 0 4px 14px -6px hsl(220 15% 18% / 0.08) !important;
}
.blob-menu-item:active {
  transform: scale(0.98) !important;
  transition-duration: 0.1s !important;
}

/* Thread particles (legacy) */
.thread-particle { display: none; }

@media (prefers-reduced-motion: reduce) {
  .glass-blob-btn, .glass-blob-shape, .animate-drift, .animate-drift-slow,
  .animate-float-gentle, .hero-slide, .hero-letter {
    animation: none !important;
    transition: none !important;
  }
  .hero-slide { opacity: 0; }
  .hero-slide-0 { opacity: 1; }
  .hero-letter { opacity: 1; transform: none; }
}